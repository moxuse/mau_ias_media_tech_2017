# 後期映像表現演習3-1

## オーディオの入力

Processingにはオーディオを扱うライブラリもいくつかあります。今回はMinimという豊富な機能を持ったライブラリを使って見ます。

オーディオデバイスにアクセスして、生のオーディオシグナルにアクセスしたり、音量やスペクトラムの解析、オシーレーターやシンセサイザーなどオーディオ信号をヴィジュアル表現に使うのには十分な機能を持っています。

まずはライブラリのダウンロードをします。外部ライブラリはProcessingのIDEからパッケージマネージャーを使って簡単にダウンロードできます。

## Minimのインポート

まずメニューの```スケッチ```>>```ライブラリをインポート```から```ライブラリの追加```を選びます。

```Contribution Manager```というウィンドウが開くのでここからライブラリのインストールをします。

検索フォームに```Minim```とうちます。```Minim```を選択して```↓instal```でインストールします。


Munimインスタンスを作りを初期化します。

```
Minim minim;

minim = new Minim(this);
```

```AudioInput```クラスはオーディオの入力信号をモニターします。

初期化するときに、オーディオのタイプ```Minim.MONO``` か ```Minim.STEREO```を
第二引数にはバッファサイズを指定します。

```
audio_in = minim.getLineIn(Minim.STEREO, 512);
```

これでオーディオの入力にアクセスする準備は整いました。

ではバッファーの分の点を書いてオーディオ入力の波形を見てみます。

```audio_in```の```left``` / ```right```で左右のチャンネルのバッファにそれぞれアクセスできます。

```get()```関数でバッファのインデックスを指定して入力信号を取得します。


```
audio_in.left.get(buffer_index_number);
audio_in.right.get(buffer_index_number);
```

![audioin.png](図版/audioin.png)


```
import ddf.minim.*;
 
Minim minim;
AudioInput audio_in;
int graph_height = 100;
 
void setup() {
  size(512, 200);
 
  minim = new Minim(this);
 
  audio_in = minim.getLineIn(Minim.STEREO, 512);
}


void draw() {
  background(0);
  stroke(255);
 
  for(int i = 0; i < audio_in.bufferSize() - 1; i++)
  {
    point(i, 50 + audio_in.left.get(i) * graph_height);
    point(i, 150 + audio_in.right.get(i) * graph_height);
  }
}
```
